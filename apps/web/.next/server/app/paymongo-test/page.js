(()=>{var e={};e.id=8432,e.ids=[8432],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6539:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=t(65239),a=t(48088),n=t(88170),l=t.n(n),i=t(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d={children:["",{children:["paymongo-test",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7286)),"C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\paymongo-test\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\paymongo-test\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/paymongo-test/page",pathname:"/paymongo-test",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7286:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\ACER\\\\Desktop\\\\tap2go\\\\apps\\\\web\\\\src\\\\app\\\\paymongo-test\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\paymongo-test\\page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},26030:(e,s,t)=>{Promise.resolve().then(t.bind(t,27990))},27910:e=>{"use strict";e.exports=require("stream")},27990:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(60687),a=t(43210);let n=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}),l=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))});function i(){let[e,s]=(0,a.useState)(null),[t,i]=(0,a.useState)(!0),[o,d]=(0,a.useState)(null),[c,m]=(0,a.useState)(""),[x,p]=(0,a.useState)(null),[h,u]=(0,a.useState)(!1),g=async()=>{if(c&&e){u(!0),p(null),d(null);try{let s=await fetch("/api/paymongo/process-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentMethod:c,amount:e.realPaymentIntent.amount/100,description:e.realPaymentIntent.description,customerInfo:{name:"Test Customer",email:"test@tap2go.com",phone:"+639123456789"}})}),t=await s.json();t.success?(p(t),t.checkoutUrl&&(console.log("Redirecting to payment URL:",t.checkoutUrl),window.open(t.checkoutUrl,"_blank"))):d(t.error||"Payment processing failed")}catch(e){d("Failed to process payment"),console.error("Payment processing error:",e)}finally{u(!1)}}};if(t)return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Testing PayMongo connection..."})]})});if(o||!e)return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full",children:[(0,r.jsx)(n,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-4",children:"PayMongo Test Failed"}),(0,r.jsx)("p",{className:"text-red-600 text-center",children:o})]})});let j={items:[{name:"Test Item",price:20,quantity:1}],subtotal:20,deliveryFee:0,total:20};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-bold",children:"T"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Tap2Go PayMongo Test"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Payment Integration Verification"})]})]})})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border mb-8 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)(l,{className:"h-8 w-8 text-green-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"PayMongo Integration Status"}),(0,r.jsx)("p",{className:"text-green-600 font-medium",children:e.message})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,r.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Environment"}),(0,r.jsx)("p",{className:"font-semibold text-green-700",children:e.environment})]}),(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"API Status"}),(0,r.jsx)("p",{className:"font-semibold text-blue-700",children:e.apiStatus})]}),(0,r.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Response Code"}),(0,r.jsx)("p",{className:"font-semibold text-purple-700",children:e.responseStatus})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Checkout Simulation"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Order Summary"}),(0,r.jsxs)("div",{className:"space-y-2",children:[j.items.map((e,s)=>(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsxs)("span",{children:[e.quantity,"x ",e.name]}),(0,r.jsxs)("span",{children:["₱",e.price]})]},s)),(0,r.jsxs)("div",{className:"border-t pt-2 mt-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"Subtotal"}),(0,r.jsxs)("span",{children:["₱",j.subtotal]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"Delivery Fee"}),(0,r.jsxs)("span",{children:["₱",j.deliveryFee]})]}),(0,r.jsxs)("div",{className:"flex justify-between font-semibold text-lg border-t pt-2 mt-2",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsxs)("span",{children:["₱",j.total]})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Available Payment Methods"}),(0,r.jsx)("div",{className:"space-y-3",children:e.supportedPaymentMethods.map(s=>{let t=e.paymentMethodDetails[s];return t?(0,r.jsx)("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${c===s?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>m(s),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("span",{className:"text-2xl",children:t.icon}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:t.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:t.description})]}),t.available&&(0,r.jsx)(l,{className:"h-5 w-5 text-green-500"})]})},s):null})})]}),(0,r.jsx)("button",{onClick:g,className:"w-full mt-6 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-400 text-white font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center",disabled:!c||h,children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):c?`Pay ₱${j.total} with ${e.paymentMethodDetails[c]?.name}`:"Select Payment Method"}),x&&(0,r.jsxs)("div",{className:`mt-6 p-4 border rounded-lg ${x.realPaymentFlow?"bg-orange-50 border-orange-200":"bg-green-50 border-green-200"}`,children:[(0,r.jsxs)("h4",{className:`font-semibold mb-2 ${x.realPaymentFlow?"text-orange-900":"text-green-900"}`,children:[x.realPaymentFlow?"\uD83D\uDD25":"✅"," ",x.nextSteps.title]}),x.realPaymentFlow&&(0,r.jsx)("div",{className:"mb-3 p-3 bg-orange-100 border border-orange-300 rounded-lg",children:(0,r.jsxs)("p",{className:"text-orange-800 font-medium text-sm",children:["\uD83C\uDFAF ",(0,r.jsx)("strong",{children:"REAL PAYMENT READY!"})," This will process an actual ₱300.00 transaction."]})}),(0,r.jsx)("div",{className:`text-sm space-y-1 ${x.realPaymentFlow?"text-orange-800":"text-green-800"}`,children:x.nextSteps.steps.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsxs)("span",{className:"mr-2 font-medium",children:[s+1,"."]}),(0,r.jsx)("span",{children:e})]},s))}),x.checkoutUrl&&(0,r.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,r.jsx)("a",{href:x.checkoutUrl,target:"_blank",rel:"noopener noreferrer",className:`block w-full text-center font-bold py-3 px-4 rounded-lg text-white transition-colors ${x.realPaymentFlow?"bg-orange-600 hover:bg-orange-700 animate-pulse":"bg-green-600 hover:bg-green-700"}`,children:x.realPaymentFlow?`🚀 PROCEED TO REAL ${e.paymentMethodDetails[c]?.name?.toUpperCase()} PAYMENT`:`🚀 Proceed to ${e.paymentMethodDetails[c]?.name}`}),x.realPaymentFlow&&(0,r.jsx)("p",{className:"text-xs text-orange-600 text-center",children:"⚠️ Clicking above will redirect you to the actual payment provider and process a real transaction"})]}),(0,r.jsxs)("div",{className:`mt-3 text-xs ${x.realPaymentFlow?"text-orange-600":"text-green-600"}`,children:["Payment Intent ID: ",x.paymentIntent.id]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Technical Details"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"API Credentials"}),(0,r.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Public Key:"}),(0,r.jsx)("span",{className:"font-mono",children:e.credentials.publicKey})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Secret Key:"}),(0,r.jsx)("span",{className:"font-mono",children:e.credentials.secretKey})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Real Payment Intent"}),(0,r.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"ID:"}),(0,r.jsx)("span",{className:"font-mono text-xs",children:e.realPaymentIntent.id})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Amount:"}),(0,r.jsxs)("span",{children:["₱",(e.realPaymentIntent.amount/100).toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Currency:"}),(0,r.jsx)("span",{children:e.realPaymentIntent.currency})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,r.jsx)("span",{className:"capitalize",children:e.realPaymentIntent.status})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Description:"}),(0,r.jsx)("span",{className:"text-xs",children:e.realPaymentIntent.description})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Allowed Methods:"}),(0,r.jsx)("span",{className:"text-xs",children:e.realPaymentIntent.payment_method_allowed.join(", ")})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Raw JSON Response"}),(0,r.jsx)("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg text-xs overflow-auto max-h-64",children:(0,r.jsx)("pre",{children:JSON.stringify(e,null,2)})})]})]})]})]})]})}},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65350:(e,s,t)=>{Promise.resolve().then(t.bind(t,7286))},70440:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[4447,6907,1658,1739],()=>t(6539));module.exports=r})();