(()=>{var e={};e.id=2037,e.ids=[2037],e.modules={1241:()=>{},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},14985:e=>{"use strict";e.exports=require("dns")},15471:(e,t,s)=>{"use strict";s.d(t,{GV:()=>n,J$:()=>l,hD:()=>o,jL:()=>a});var r=s(54864);let a=()=>(0,r.wA)(),n=r.d4,o=()=>n(e=>({user:e.auth.user,isAuthenticated:e.auth.isAuthenticated,loading:e.auth.loading,error:e.auth.error,isInitialized:e.auth.isInitialized})),l=()=>n(e=>({cart:e.cart.cart,items:e.cart.cart?.items||[],total:e.cart.cart?.total||0,itemCount:e.cart.cart?.items.reduce((e,t)=>e+t.quantity,0)||0,restaurantId:e.cart.cart?.restaurantId,loading:e.cart.loading,error:e.cart.error}))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},25057:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var r=s(60687),a=s(43210),n=s(61245),o=s(49579),l=s(59168),i=s(58089),d=s(81521),c=s(57891),g=s(71178),u=s(45667),m=s(96453),x=s(66524),h=s(45994);let p=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))});var f=s(26403),b=s(79481);function y(){return b.E2?b.E2:(console.warn("⚠️ Using regular client - admin client not available"),b.ND)}class w{static async getPublishedPosts(e=10,t=0){let{data:s,error:r}=await b.ND.from("blog_posts").select(`
        *,
        categories:post_categories(category:categories(*)),
        tags:post_tags(tag:tags(*))
      `).eq("status","published").is("deleted_at",null).lte("published_at",new Date().toISOString()).order("published_at",{ascending:!1}).range(t,t+e-1);if(r)throw r;return s}static async getFeaturedPosts(e=5){let{data:t,error:s}=await b.ND.from("blog_posts").select(`
        *,
        categories:post_categories(category:categories(*)),
        tags:post_tags(tag:tags(*))
      `).eq("status","published").eq("is_featured",!0).lte("published_at",new Date().toISOString()).order("published_at",{ascending:!1}).limit(e);if(s)throw s;return t}static async getPostBySlug(e){let{data:t,error:s}=await b.ND.from("blog_posts").select(`
        *,
        categories:post_categories(category:categories(*)),
        tags:post_tags(tag:tags(*))
      `).eq("slug",e).eq("status","published").single();if(s)throw s;return t&&b.E2&&await b.E2.from("blog_posts").update({view_count:t.view_count+1}).eq("id",t.id),t}static async searchPosts(e,t=10){let{data:s,error:r}=await b.ND.from("blog_posts").select(`
        *,
        categories:post_categories(category:categories(*)),
        tags:post_tags(tag:tags(*))
      `).eq("status","published").textSearch("search_vector",e).order("published_at",{ascending:!1}).limit(t);if(r)throw r;return s}static async getPostsByCategory(e,t=10,s=0){let{data:r,error:a}=await b.ND.from("blog_posts").select(`
        *,
        categories:post_categories!inner(category:categories!inner(*)),
        tags:post_tags(tag:tags(*))
      `).eq("status","published").eq("categories.category.slug",e).order("published_at",{ascending:!1}).range(s,s+t-1);if(a)throw a;return r}static async getPostsByTag(e,t=10,s=0){let{data:r,error:a}=await b.ND.from("blog_posts").select(`
        *,
        categories:post_categories(category:categories(*)),
        tags:post_tags!inner(tag:tags!inner(*))
      `).eq("status","published").eq("tags.tag.slug",e).order("published_at",{ascending:!1}).range(s,s+t-1);if(a)throw a;return r}static async getAllPosts(e=100,t=0){try{let{data:s,error:r}=await y().from("blog_posts").select("*").is("deleted_at",null).order("created_at",{ascending:!1}).range(t,t+e-1);if(r)throw console.error("❌ getAllPosts error:",r),r;return s}catch(e){throw console.error("❌ getAllPosts failed:",e),e}}static async getAllPostsIncludingTrashed(e=1e3,t=0){try{let{data:s,error:r}=await y().from("blog_posts").select("*").order("created_at",{ascending:!1}).range(t,t+e-1);if(r)throw console.error("❌ getAllPostsIncludingTrashed error:",r),r;return s}catch(e){throw console.error("❌ getAllPostsIncludingTrashed failed:",e),e}}static async getPostsByStatus(e="all",t=100,s=0){try{let r=y().from("blog_posts").select("*");r="trash"===e?r.not("deleted_at","is",null):"all"===e?r.is("deleted_at",null):r.eq("status",e).is("deleted_at",null);let{data:a,error:n}=await r.order("trash"===e?"deleted_at":"created_at",{ascending:!1}).range(s,s+t-1);if(n)throw console.error("❌ getPostsByStatus error:",n),n;return a}catch(e){throw console.error("❌ getPostsByStatus failed:",e),e}}static async getTrashedPosts(e=100,t=0){try{let{data:s,error:r}=await y().from("blog_posts").select("*").not("deleted_at","is",null).order("deleted_at",{ascending:!1}).range(t,t+e-1);if(r)throw console.error("❌ getTrashedPosts error:",r),r;return s}catch(e){throw console.error("❌ getTrashedPosts failed:",e),e}}static async createPost(e){try{console.log("\uD83D\uDCDD Creating post with data:",e);let t={title:e.title||"Untitled",slug:e.slug||_(e.title||"untitled"),content:e.content||"",excerpt:e.excerpt||"",status:e.status||"draft",author_name:e.author_name||"Admin",is_featured:e.is_featured||!1,reading_time:e.reading_time||0,view_count:e.view_count||0};"published"===e.status&&(t.published_at=new Date().toISOString()),console.log("\uD83D\uDCCB Insert data:",t);let{data:s,error:r}=await y().from("blog_posts").insert([t]).select().single();if(r)throw console.error("❌ Create post error details:",{message:r.message,details:r.details,hint:r.hint,code:r.code}),Error(`Database error: ${r.message}`);return console.log("✅ Post created successfully:",s),s}catch(e){throw console.error("❌ Create post failed:",e),e}}static async updatePost(e,t){let{data:s,error:r}=await y().from("blog_posts").update({...t,published_at:"published"!==t.status||t.published_at?t.published_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return s}static async moveToTrash(e,t){try{console.log("\uD83D\uDDD1️ Moving post to trash:",{id:e,userId:t});let{data:s,error:r}=await y().from("blog_posts").update({deleted_at:new Date().toISOString(),deleted_by:t||null,status:"trash",updated_at:new Date().toISOString()}).eq("id",e).is("deleted_at",null).select().single();if(r)throw console.error("❌ moveToTrash error details:",{message:r.message,details:r.details,hint:r.hint,code:r.code}),Error(`Trash error: ${r.message}`);return console.log("✅ Post moved to trash successfully:",s),s}catch(e){throw console.error("❌ moveToTrash failed:",e),e}}static async restoreFromTrash(e,t="draft"){try{console.log("♻️ Restoring post from trash:",{id:e,newStatus:t});let{data:s,error:r}=await y().from("blog_posts").update({deleted_at:null,deleted_by:null,status:t,updated_at:new Date().toISOString()}).eq("id",e).not("deleted_at","is",null).select().single();if(r)throw console.error("❌ restoreFromTrash error:",r),r;return console.log("✅ Post restored from trash successfully:",s),s}catch(e){throw console.error("❌ restoreFromTrash failed:",e),e}}static async permanentDelete(e){try{console.log("\uD83D\uDDD1️ Permanently deleting post:",{id:e});let{error:t}=await y().from("blog_posts").delete().eq("id",e).not("deleted_at","is",null);if(t)throw console.error("❌ permanentDelete error:",t),t;return console.log("✅ Post permanently deleted successfully"),!0}catch(e){throw console.error("❌ permanentDelete failed:",e),e}}static async deletePost(e,t){return console.warn("deletePost is deprecated. Use moveToTrash instead."),this.moveToTrash(e,t)}}class j{static async getPublishedPages(){let{data:e,error:t}=await b.ND.from("static_pages").select("*").eq("status","published").is("deleted_at",null).order("menu_order",{ascending:!0});if(t)throw t;return e}static async getNavigationPages(){let{data:e,error:t}=await b.ND.from("static_pages").select("*").eq("status","published").eq("show_in_navigation",!0).order("menu_order",{ascending:!0});if(t)throw t;return e}static async getPageBySlug(e){let{data:t,error:s}=await b.ND.from("static_pages").select("*").eq("slug",e).eq("status","published").single();if(s)throw s;return t}static async getPageHierarchy(){let{data:e,error:t}=await b.ND.from("static_pages").select("*").eq("status","published").order("menu_order",{ascending:!0});if(t)throw t;let s=e||[],r=new Map,a=[];return s.forEach(e=>{r.set(e.id,{...e,children:[]})}),s.forEach(e=>{if(e.parent_id){let t=r.get(e.parent_id);t&&t.children.push(r.get(e.id))}else a.push(r.get(e.id))}),a}static async getAllPages(){let{data:e,error:t}=await y().from("static_pages").select("*").is("deleted_at",null).order("created_at",{ascending:!1});if(t)throw t;return e}static async getAllPagesIncludingTrashed(){let{data:e,error:t}=await y().from("static_pages").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}static async getPagesByStatus(e="all",t=100,s=0){try{let r=y().from("static_pages").select("*");r="trash"===e?r.not("deleted_at","is",null):"all"===e?r.is("deleted_at",null):r.eq("status",e).is("deleted_at",null);let{data:a,error:n}=await r.order("trash"===e?"deleted_at":"created_at",{ascending:!1}).range(s,s+t-1);if(n)throw console.error("❌ getPagesByStatus error:",n),n;return a}catch(e){throw console.error("❌ getPagesByStatus failed:",e),e}}static async getTrashedPages(e=100,t=0){let{data:s,error:r}=await y().from("static_pages").select("*").not("deleted_at","is",null).order("deleted_at",{ascending:!1}).range(t,t+e-1);if(r)throw r;return s}static async createPage(e){try{let t={title:e.title||"Untitled Page",slug:e.slug||_(e.title||"untitled-page"),content:e.content||"",excerpt:e.excerpt||"",status:e.status||"draft",menu_order:e.menu_order||0,show_in_navigation:e.show_in_navigation||!1,navigation_label:e.navigation_label||"",page_template:e.page_template||"default",author_name:e.author_name||"Admin",published_at:"published"===e.status?new Date().toISOString():null},{data:s,error:r}=await y().from("static_pages").insert([t]).select().single();if(r)throw console.error("❌ Create page error:",r),r;return console.log("✅ Page created successfully:",s),s}catch(e){throw console.error("❌ Create page failed:",e),e}}static async updatePage(e,t){let{data:s,error:r}=await y().from("static_pages").update({...t,published_at:"published"!==t.status||t.published_at?t.published_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return s}static async moveToTrash(e,t){try{console.log("\uD83D\uDDD1️ Moving page to trash:",{id:e,userId:t});let{data:s,error:r}=await y().from("static_pages").update({deleted_at:new Date().toISOString(),deleted_by:t||null,status:"trash",updated_at:new Date().toISOString()}).eq("id",e).is("deleted_at",null).select().single();if(r)throw console.error("❌ moveToTrash (page) error:",r),r;return console.log("✅ Page moved to trash successfully:",s),s}catch(e){throw console.error("❌ moveToTrash (page) failed:",e),e}}static async restoreFromTrash(e,t="draft"){let{data:s,error:r}=await y().from("static_pages").update({deleted_at:null,deleted_by:null,status:t,updated_at:new Date().toISOString()}).eq("id",e).not("deleted_at","is",null).select().single();if(r)throw r;return s}static async permanentDelete(e){let{error:t}=await y().from("static_pages").delete().eq("id",e).not("deleted_at","is",null);if(t)throw t;return!0}static async deletePage(e,t){return console.warn("deletePage is deprecated. Use moveToTrash instead."),this.moveToTrash(e,t)}}class v{static async getAllCategories(){let{data:e,error:t}=await b.ND.from("categories").select("*").order("name",{ascending:!0});if(t)throw t;return e}static async getCategoryBySlug(e){let{data:t,error:s}=await b.ND.from("categories").select("*").eq("slug",e).single();if(s)throw s;return t}static async createCategory(e){try{let t={name:e.name||"Untitled Category",slug:e.slug||_(e.name||"untitled-category"),description:e.description||"",post_count:0},{data:s,error:r}=await y().from("categories").insert([t]).select().single();if(r)throw console.error("❌ Create category error:",r),r;return console.log("✅ Category created successfully:",s),s}catch(e){throw console.error("❌ Create category failed:",e),e}}static async updateCategory(e,t){let{data:s,error:r}=await y().from("categories").update(t).eq("id",e).select().single();if(r)throw r;return s}}class N{static async getAllTags(){let{data:e,error:t}=await b.ND.from("tags").select("*").order("name",{ascending:!0});if(t)throw t;return e}static async getTagBySlug(e){let{data:t,error:s}=await b.ND.from("tags").select("*").eq("slug",e).single();if(s)throw s;return t}static async createTag(e){try{let t={name:e.name||"Untitled Tag",slug:e.slug||_(e.name||"untitled-tag"),description:e.description||"",post_count:0},{data:s,error:r}=await y().from("tags").insert([t]).select().single();if(r)throw console.error("❌ Create tag error:",r),r;return console.log("✅ Tag created successfully:",s),s}catch(e){throw console.error("❌ Create tag failed:",e),e}}static async updateTag(e,t){let{data:s,error:r}=await y().from("tags").update(t).eq("id",e).select().single();if(r)throw r;return s}}function _(e){return e.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}function C(e){return Math.ceil(e.trim().split(/\s+/).length/200)}function P(e,t=160){let s=e.replace(/<[^>]*>/g,"");return s.length>t?s.substring(0,t).trim()+"...":s}var k=s(63213),A=s(15471),T=s(92184);function S(){let{user:e}=(0,k.A)(),t=(0,A.jL)(),s=(0,A.GV)(T.r1),b=(0,A.GV)(T.YS),y=(0,A.GV)(T.a1),S=(0,A.GV)(T.Lk),q=(0,A.GV)(T.xQ),I=(0,A.GV)(T.vw),F=(0,A.GV)(T.sx),M=(0,A.GV)(T.Ke),O=(0,A.GV)(T.Di),[R,L]=(0,a.useState)(!1),[B,G]=(0,a.useState)(!1),[U,$]=(0,a.useState)(null),V=(0,a.useCallback)(async()=>{try{t((0,T.Km)(!0)),t((0,T.ET)()),console.log("\uD83D\uDE80 Loading CMS data...");let[e,s,r,a]=await Promise.all([w.getAllPostsIncludingTrashed(1e3),j.getAllPagesIncludingTrashed(),v.getAllCategories(),N.getAllTags()]),n=e?.reduce((e,t)=>e+(t.view_count||0),0)||0;console.log("\uD83D\uDCCA Raw data loaded:",{totalPostsLoaded:e?.length||0,totalPagesLoaded:s?.length||0,postsWithDeletedAt:e?.filter(e=>e.deleted_at).length||0,pagesWithDeletedAt:s?.filter(e=>e.deleted_at).length||0});let o={totalPosts:e?.filter(e=>!e.deleted_at).length||0,publishedPosts:e?.filter(e=>"published"===e.status&&!e.deleted_at).length||0,draftPosts:e?.filter(e=>"draft"===e.status&&!e.deleted_at).length||0,totalPages:s?.filter(e=>!e.deleted_at).length||0,publishedPages:s?.filter(e=>"published"===e.status&&!e.deleted_at).length||0,totalCategories:r?.length||0,totalTags:a?.length||0,totalViews:n,trashedPosts:e?.filter(e=>e.deleted_at).length||0,trashedPages:s?.filter(e=>e.deleted_at).length||0};console.log("\uD83D\uDCCA Calculated stats:",o),t((0,T.w_)(o)),t((0,T.zw)(r||[])),t((0,T.Wt)(a||[]));let l=e||[],i=s||[];console.log("\uD83D\uDD0D Filtering content:",{viewMode:F,totalPosts:l.length,totalPages:i.length,trashedPosts:l.filter(e=>e.deleted_at).length,trashedPages:i.filter(e=>e.deleted_at).length}),"all"!==F?"trash"===F?(l=l.filter(e=>e.deleted_at),i=i.filter(e=>e.deleted_at),console.log("\uD83D\uDCCB Trash view - filtered:",{posts:l.length,pages:i.length})):(l=l.filter(e=>e.status===F&&!e.deleted_at),i=i.filter(e=>e.status===F&&!e.deleted_at),console.log(`📋 ${F} view - filtered:`,{posts:l.length,pages:i.length})):(l=l.filter(e=>!e.deleted_at),i=i.filter(e=>!e.deleted_at),console.log("\uD83D\uDCCB All view - filtered (active only):",{posts:l.length,pages:i.length})),t((0,T.uZ)(l)),t((0,T.$9)(i)),console.log("✅ CMS data loaded successfully")}catch(e){console.error("❌ Error loading CMS data:",e),t((0,T.Nh)(e instanceof Error?e.message:"Failed to load CMS data"))}finally{t((0,T.Km)(!1))}},[t,F]),z=e=>{t((0,T.YF)(e)),M&&t((0,T.ET)())},W=e=>{t((0,T.fd)(e)),M&&t((0,T.ET)())},J=()=>{V()},X=async e=>{try{let t;if("posts"===I){let s=_(e.title||"untitled"),r=C(e.content||""),a=e.excerpt||P(e.content||"");t=await w.createPost({...e,slug:s,reading_time:r,excerpt:a,author_name:"Admin",status:e.status||"draft"})}else if("pages"===I){let s=_(e.title||"untitled");t=await j.createPage({...e,slug:s,author_name:"Admin",status:e.status||"draft"})}else if("categories"===I){let s=_(e.name||"untitled");t=await v.createCategory({...e,slug:s})}else if("tags"===I){let s=_(e.name||"untitled");t=await N.createTag({...e,slug:s})}t&&(console.log("✅ Content created successfully"),await V(),L(!1),alert("Content created successfully!"))}catch(e){console.error("❌ Error creating content:",e),alert("Failed to create content. Please try again.")}},Y=e=>{$(e),G(!0)},Z=async s=>{if(confirm("Are you sure you want to move this item to trash?"))try{"posts"===I?await w.moveToTrash(s.id,e?.id):"pages"===I&&await j.moveToTrash(s.id,e?.id),console.log("✅ Content moved to trash successfully"),t((0,T.fd)("trash")),await V(),alert("Content moved to trash successfully! Switched to Trash view.")}catch(e){console.error("❌ Error moving content to trash:",e),alert("Failed to move content to trash. Please try again.")}},K=async e=>{if(confirm("Are you sure you want to restore this item from trash?"))try{"posts"===I?await w.restoreFromTrash(e.id,"draft"):"pages"===I&&await j.restoreFromTrash(e.id,"draft"),console.log("✅ Content restored from trash successfully"),t((0,T.fd)("draft")),await V(),alert("Content restored from trash successfully! Switched to Draft view.")}catch(e){console.error("❌ Error restoring content from trash:",e),alert("Failed to restore content from trash. Please try again.")}},Q=async e=>{if(confirm("⚠️ PERMANENT DELETE: This action cannot be undone! Are you absolutely sure?"))try{"posts"===I?await w.permanentDelete(e.id):"pages"===I&&await j.permanentDelete(e.id),console.log("✅ Content permanently deleted"),await V(),alert("Content permanently deleted!")}catch(e){console.error("❌ Error permanently deleting content:",e),alert("Failed to permanently delete content. Please try again.")}},H=async e=>{if(U)try{let t;"posts"===I?t=await w.updatePost(U.id,{...e,reading_time:C(e.content||""),excerpt:e.excerpt||P(e.content||"")}):"pages"===I&&(t=await j.updatePage(U.id,{...e,status:e.status||"draft"})),t&&(console.log("✅ Content updated successfully"),await V(),G(!1),$(null),alert("Content updated successfully!"))}catch(e){console.error("❌ Error updating content:",e),alert("Failed to update content. Please try again.")}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-4 lg:space-y-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,r.jsx)(n.A,{className:"w-8 h-8 text-orange-500 mr-3"}),"WordPress-Style CMS"]}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Powered by Supabase • Modern, Fast, Scalable"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2",children:O?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.A,{className:"w-5 h-5 text-blue-500 animate-spin"}),(0,r.jsx)("span",{className:"text-sm text-blue-600",children:"Loading..."})]}):M?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{className:"w-5 h-5 text-red-500"}),(0,r.jsxs)("span",{className:"text-sm text-red-600",children:["Error: ",M]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{className:"w-5 h-5 text-green-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Supabase Connected"})]})}),(0,r.jsxs)("button",{onClick:J,className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:O,children:[(0,r.jsx)(o.A,{className:`w-4 h-4 ${O?"animate-spin":""}`}),(0,r.jsx)("span",{children:O?"Refreshing...":"Refresh"})]}),M&&(0,r.jsxs)("button",{onClick:()=>t((0,T.ET)()),className:"flex items-center space-x-2 px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors",children:[(0,r.jsx)(d.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Clear Error"})]}),(0,r.jsxs)("button",{onClick:()=>L(!0),className:"bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-orange-700 transition-colors",children:[(0,r.jsx)(c.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Create New"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n.A,{className:"h-8 w-8 text-blue-600"}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Blog Posts"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:q.totalPosts})]})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(i.A,{className:"h-8 w-8 text-green-600"}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Published"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-green-600",children:q.publishedPosts})]})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(g.A,{className:"h-8 w-8 text-yellow-600"}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Drafts"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:q.draftPosts})]})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n.A,{className:"h-8 w-8 text-purple-600"}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Pages"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:q.totalPages})]})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(u.A,{className:"h-8 w-8 text-indigo-600"}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Categories"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-indigo-600",children:q.totalCategories})]})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(m.A,{className:"h-8 w-8 text-pink-600"}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Tags"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-pink-600",children:q.totalTags})]})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(x.A,{className:"h-8 w-8 text-orange-600"}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Total Views"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:q.totalViews})]})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(h.A,{className:"h-8 w-8 text-teal-600"}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Published Pages"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-teal-600",children:q.publishedPages})]})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,r.jsx)("div",{className:"border-b border-gray-200",children:(0,r.jsxs)("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[(0,r.jsx)("button",{onClick:()=>z("posts"),className:`py-4 px-1 border-b-2 font-medium text-sm ${"posts"===I?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(n.A,{className:"w-5 h-5"}),(0,r.jsxs)("span",{children:["Blog Posts (",q.totalPosts,")"]})]})}),(0,r.jsx)("button",{onClick:()=>z("pages"),className:`py-4 px-1 border-b-2 font-medium text-sm ${"pages"===I?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(n.A,{className:"w-5 h-5"}),(0,r.jsxs)("span",{children:["Static Pages (",q.totalPages,")"]})]})}),(0,r.jsx)("button",{onClick:()=>z("categories"),className:`py-4 px-1 border-b-2 font-medium text-sm ${"categories"===I?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(u.A,{className:"w-5 h-5"}),(0,r.jsxs)("span",{children:["Categories (",q.totalCategories,")"]})]})}),(0,r.jsx)("button",{onClick:()=>z("tags"),className:`py-4 px-1 border-b-2 font-medium text-sm ${"tags"===I?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(m.A,{className:"w-5 h-5"}),(0,r.jsxs)("span",{children:["Tags (",q.totalTags,")"]})]})})]})}),(0,r.jsxs)("div",{className:"p-6",children:[("posts"===I||"pages"===I)&&(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[(0,r.jsxs)("button",{onClick:()=>W("all"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${"all"===F?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["All (","posts"===I?q.totalPosts:q.totalPages,")"]}),(0,r.jsxs)("button",{onClick:()=>W("published"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${"published"===F?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Published (","posts"===I?q.publishedPosts:q.publishedPages,")"]}),(0,r.jsxs)("button",{onClick:()=>W("draft"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${"draft"===F?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Draft (","posts"===I?q.draftPosts:q.totalPages-q.publishedPages,")"]}),(0,r.jsxs)("button",{onClick:()=>W("trash"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${"trash"===F?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["\uD83D\uDDD1️ Trash (","posts"===I?q.trashedPosts:q.trashedPages,")"]})]})}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"trash"===F?(0,r.jsx)("span",{className:"text-orange-600",children:"⚠️ Items in trash can be restored or permanently deleted"}):(0,r.jsxs)("span",{children:["Showing ","all"===F?"all active":F," ",I,O&&(0,r.jsx)("span",{className:"ml-2 text-blue-600",children:"• Loading..."})]})})]}),O?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mx-auto"}),(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Loading ","posts"===I?"posts":"pages"===I?"pages":I,"..."]}),M&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,r.jsxs)("p",{className:"text-sm text-red-600",children:["Error: ",M]}),(0,r.jsx)("button",{onClick:()=>t((0,T.ET)()),className:"mt-2 text-xs text-red-700 underline hover:no-underline",children:"Dismiss"})]})]}):M?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(l.A,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),(0,r.jsxs)("p",{className:"text-red-600 mb-4",children:["Failed to load content: ",M]}),(0,r.jsxs)("div",{className:"space-x-4",children:[(0,r.jsx)("button",{onClick:J,className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:"Retry"}),(0,r.jsx)("button",{onClick:()=>t((0,T.ET)()),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Clear Error"})]})]}):(0,r.jsxs)("div",{children:["posts"===I&&(0,r.jsx)("div",{children:0===s.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(n.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"No blog posts found. Create your first post!"}),(0,r.jsx)("button",{onClick:()=>L(!0),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:"Create First Post"})]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["/",e.slug]}),e.is_featured&&(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-orange-100 text-orange-800 mt-1",children:"Featured"})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${"published"===e.status?"bg-green-100 text-green-800":"draft"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:e.status})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.author_name}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.view_count||0}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>Y(e),className:"text-orange-600 hover:text-orange-900 p-1 rounded hover:bg-orange-50 transition-colors",title:"Edit Post",children:(0,r.jsx)(g.A,{className:"w-4 h-4"})}),"trash"===F?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>K(e),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors",title:"Restore from Trash",children:(0,r.jsx)(p,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>Q(e),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors",title:"Permanently Delete",children:(0,r.jsx)(d.A,{className:"w-4 h-4"})})]}):(0,r.jsx)("button",{onClick:()=>Z(e),className:"text-orange-600 hover:text-orange-900 p-1 rounded hover:bg-orange-50 transition-colors",title:"Move to Trash",children:(0,r.jsx)(f.A,{className:"w-4 h-4"})})]})})]},e.id))})]})})}),"pages"===I&&(0,r.jsx)("div",{children:0===b.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(n.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"No static pages found. Create your first page!"}),(0,r.jsx)("button",{onClick:()=>L(!0),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:"Create First Page"})]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Navigation"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["/",e.slug]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${"published"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.status})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.show_in_navigation?(0,r.jsx)(i.A,{className:"w-5 h-5 text-green-500"}):(0,r.jsx)(d.A,{className:"w-5 h-5 text-gray-400"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.menu_order||0}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>Y(e),className:"text-orange-600 hover:text-orange-900 p-1 rounded hover:bg-orange-50 transition-colors",children:(0,r.jsx)(g.A,{className:"w-4 h-4"})}),"trash"===F?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>K(e),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors",title:"Restore from Trash",children:(0,r.jsx)(p,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>Q(e),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors",title:"Permanently Delete",children:(0,r.jsx)(d.A,{className:"w-4 h-4"})})]}):(0,r.jsx)("button",{onClick:()=>Z(e),className:"text-orange-600 hover:text-orange-900 p-1 rounded hover:bg-orange-50 transition-colors",title:"Move to Trash",children:(0,r.jsx)(f.A,{className:"w-4 h-4"})})]})})]},e.id))})]})})}),"categories"===I&&(0,r.jsx)("div",{children:0===y.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(u.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"No categories found. Create your first category!"}),(0,r.jsx)("button",{onClick:()=>L(!0),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:"Create First Category"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(e=>(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,r.jsx)("div",{className:"flex space-x-1",children:(0,r.jsx)("button",{onClick:()=>Y(e),className:"text-orange-600 hover:text-orange-900 p-1 rounded hover:bg-orange-50 transition-colors",children:(0,r.jsx)(g.A,{className:"w-4 h-4"})})})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:["/",e.slug]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[e.post_count," posts"]})]},e.id))})}),"tags"===I&&(0,r.jsx)("div",{children:0===S.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(m.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"No tags found. Create your first tag!"}),(0,r.jsx)("button",{onClick:()=>L(!0),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:"Create First Tag"})]}):(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:S.map(e=>(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3 flex items-center space-x-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[e.post_count," posts"]})]}),(0,r.jsx)("button",{onClick:()=>Y(e),className:"text-orange-600 hover:text-orange-900 p-1 rounded hover:bg-orange-50 transition-colors",children:(0,r.jsx)(g.A,{className:"w-3 h-3"})})]},e.id))})})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"System Status"})}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Supabase Database"}),(0,r.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"✅ Connected"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"WordPress CMS"}),(0,r.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"✅ Active"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Firebase Auth"}),(0,r.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"✅ Connected"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Performance"}),(0,r.jsx)("span",{className:"text-sm text-blue-600 font-medium",children:"\uD83D\uDE80 Optimized"})]})]})})]}),R&&(0,r.jsx)(D,{activeTab:I,onClose:()=>L(!1),onSubmit:X}),B&&U&&(0,r.jsx)(E,{activeTab:I,item:U,onClose:()=>{G(!1),$(null)},onSubmit:H})]})}function D({activeTab:e,onClose:t,onSubmit:s}){let[n,o]=(0,a.useState)({title:"",name:"",content:"",excerpt:"",description:"",author_name:"Admin",status:"draft",show_in_navigation:!1,menu_order:0,is_featured:!1}),[l,i]=(0,a.useState)(!1),d=async t=>{t.preventDefault();let r="posts"===e||"pages"===e?"title":"name";if(!n[r]?.trim())return void alert(`Please fill in the ${r}`);if(("posts"===e||"pages"===e)&&!n.content?.trim())return void alert("Please fill in the content");i(!0);try{await s(n)}finally{i(!1)}};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:(()=>{switch(e){case"posts":return"Create New Blog Post";case"pages":return"Create New Static Page";case"categories":return"Create New Category";case"tags":return"Create New Tag";default:return"Create New Content"}})()}),(0,r.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["posts"===e||"pages"===e?"Title":"Name"," *"]}),(0,r.jsx)("input",{type:"text",value:"posts"===e||"pages"===e?n.title:n.name,onChange:t=>o({...n,["posts"===e||"pages"===e?"title":"name"]:t.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:`Enter ${"posts"===e||"pages"===e?"title":"name"}`,required:!0})]}),("posts"===e||"pages"===e)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Excerpt"}),(0,r.jsx)("textarea",{value:n.excerpt,onChange:e=>o({...n,excerpt:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:2,placeholder:"Brief description"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content *"}),(0,r.jsx)("textarea",{value:n.content,onChange:e=>o({...n,content:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:8,placeholder:"Write your content here...",required:!0})]})]}),("categories"===e||"tags"===e)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,r.jsx)("textarea",{value:n.description,onChange:e=>o({...n,description:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:3,placeholder:"Optional description"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:("posts"===e||"pages"===e)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author"}),(0,r.jsx)("input",{type:"text",value:n.author_name,onChange:e=>o({...n,author_name:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,r.jsxs)("select",{value:n.status,onChange:e=>o({...n,status:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"draft",children:"Draft"}),(0,r.jsx)("option",{value:"published",children:"Published"})]})]})]})}),"pages"===e&&(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"show_in_navigation",checked:n.show_in_navigation,onChange:e=>o({...n,show_in_navigation:e.target.checked}),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"show_in_navigation",className:"ml-2 block text-sm text-gray-900",children:"Show in Navigation"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Menu Order"}),(0,r.jsx)("input",{type:"number",value:n.menu_order,onChange:e=>o({...n,menu_order:parseInt(e.target.value)||0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),"posts"===e&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"is_featured",checked:n.is_featured,onChange:e=>o({...n,is_featured:e.target.checked}),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"is_featured",className:"ml-2 block text-sm text-gray-900",children:"Featured Post"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:l,className:`px-4 py-2 rounded-md text-white transition-colors ${l?"bg-gray-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"}`,children:l?"Creating...":"Create"})]})]})]})})}function E({activeTab:e,item:t,onClose:s,onSubmit:n}){let[o,l]=(0,a.useState)(()=>"posts"===e?{title:t.title,content:t.content,excerpt:t.excerpt||"",author_name:t.author_name,status:t.status,is_featured:t.is_featured||!1}:"pages"===e?{title:t.title,content:t.content,excerpt:t.excerpt||"",author_name:t.author_name,status:t.status,show_in_navigation:t.show_in_navigation||!1,navigation_label:t.navigation_label||"",menu_order:t.menu_order||0}:"categories"===e?{name:t.name,description:t.description||""}:{name:t.name,description:t.description||""}),[i,d]=(0,a.useState)(!1),c=async t=>{t.preventDefault();let s="posts"===e||"pages"===e?"title":"name";if(!o[s]?.trim())return void alert(`Please fill in the ${s}`);if(("posts"===e||"pages"===e)&&!o.content?.trim())return void alert("Please fill in the content");d(!0);try{await n(o)}finally{d(!1)}};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:(()=>{switch(e){case"posts":return"Edit Blog Post";case"pages":return"Edit Static Page";case"categories":return"Edit Category";case"tags":return"Edit Tag";default:return"Edit Content"}})()}),(0,r.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors p-1",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["posts"===e||"pages"===e?"Title":"Name"," *"]}),(0,r.jsx)("input",{type:"text",value:"posts"===e||"pages"===e?o.title:o.name,onChange:t=>l({...o,["posts"===e||"pages"===e?"title":"name"]:t.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),("posts"===e||"pages"===e)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Excerpt"}),(0,r.jsx)("textarea",{value:o.excerpt,onChange:e=>l({...o,excerpt:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:2})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content *"}),(0,r.jsx)("textarea",{value:o.content,onChange:e=>l({...o,content:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:8,required:!0})]})]}),("categories"===e||"tags"===e)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,r.jsx)("textarea",{value:o.description,onChange:e=>l({...o,description:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:3})]}),("posts"===e||"pages"===e)&&(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author"}),(0,r.jsx)("input",{type:"text",value:o.author_name,onChange:e=>l({...o,author_name:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,r.jsxs)("select",{value:o.status,onChange:e=>l({...o,status:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"draft",children:"Draft"}),(0,r.jsx)("option",{value:"published",children:"Published"}),(0,r.jsx)("option",{value:"private",children:"Private"})]})]})]}),"pages"===e&&(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"show_in_navigation",checked:o.show_in_navigation,onChange:e=>l({...o,show_in_navigation:e.target.checked}),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"show_in_navigation",className:"ml-2 block text-sm text-gray-900",children:"Show in Navigation"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Menu Order"}),(0,r.jsx)("input",{type:"number",value:o.menu_order,onChange:e=>l({...o,menu_order:parseInt(e.target.value)||0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),"posts"===e&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"is_featured",checked:o.is_featured,onChange:e=>l({...o,is_featured:e.target.checked}),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"is_featured",className:"ml-2 block text-sm text-gray-900",children:"Featured Post"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:i,className:`px-4 py-2 rounded-md text-white transition-colors ${i?"bg-gray-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"}`,children:i?"Updating...":"Update"})]})]})]})})}},27910:e=>{"use strict";e.exports=require("stream")},27948:(e,t,s)=>{Promise.resolve().then(s.bind(s,25057))},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32236:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>g,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(65239),a=s(48088),n=s(88170),o=s.n(n),l=s(30893),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(t,i);let d={children:["",{children:["admin",{children:["cms-dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,75815)),"C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\admin\\cms-dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,99111)),"C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\admin\\cms-dashboard\\page.tsx"],g={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/cms-dashboard/page",pathname:"/admin/cms-dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},38220:(e,t,s)=>{Promise.resolve().then(s.bind(s,75815))},49579:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(43210);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))})},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58089:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(43210);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72088:()=>{},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},75815:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\ACER\\\\Desktop\\\\tap2go\\\\apps\\\\web\\\\src\\\\app\\\\admin\\\\cms-dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\admin\\cms-dashboard\\page.tsx","default")},76029:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=76029,e.exports=t},79428:e=>{"use strict";e.exports=require("buffer")},79481:(e,t,s)=>{"use strict";s.d(t,{E2:()=>i,ND:()=>l});var r=s(22984);let a="https://iblujnytqusttngujhob.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlibHVqbnl0cXVzdHRuZ3VqaG9iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyNjQxNjMsImV4cCI6MjA2NDg0MDE2M30.zt4RCWmS3POQtULRl27UcdGGCPGbYPJvTr8l6YlOhvA",o=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!a||!n)throw Error("Missing Supabase environment variables. Please check your .env.local file.");let l=(0,r.createClient)(a,n,{auth:{persistSession:!1},db:{schema:"public"},realtime:{params:{eventsPerSecond:-1}},global:{headers:{"X-Client-Info":"tap2go-cms"}}}),i=o?(0,r.createClient)(a,o,{auth:{autoRefreshToken:!1,persistSession:!1},db:{schema:"public"},realtime:{params:{eventsPerSecond:-1}},global:{headers:{"X-Client-Info":"tap2go-cms-admin"}}}):null},79551:e=>{"use strict";e.exports=require("url")},81521:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(43210);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4447,6907,1658,5814,1237,2952,1739,2464],()=>s(32236));module.exports=r})();