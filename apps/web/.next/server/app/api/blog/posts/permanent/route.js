(()=>{var e={};e.id=9409,e.ids=[9409],e.modules={1241:()=>{},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},34631:e=>{"use strict";e.exports=require("tls")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},49332:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>g,routeModule:()=>l,serverHooks:()=>m,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>d});var r={};s.r(r),s.d(r,{DELETE:()=>p});var o=s(96559),n=s(48088),i=s(37719),a=s(32190),u=s(63511);async function p(e){try{let{searchParams:t}=new URL(e.url),s=t.get("id");if(!s)return a.NextResponse.json({success:!1,message:"Post ID is required"},{status:400});if(console.log(`🗑️ Permanently deleting post ID: ${s}`),!u.E2)throw Error("Supabase admin client not available");let{data:r,error:o}=await u.E2.from("blog_posts").select("id, title, deleted_at").eq("id",s).single();if(o||!r)return a.NextResponse.json({success:!1,message:"Post not found"},{status:404});if(!r.deleted_at)return a.NextResponse.json({success:!1,message:"Post must be in bin before permanent deletion. Move to bin first."},{status:400});let{data:n,error:i}=await u.E2.from("blog_posts").delete().eq("id",s).not("deleted_at","is",null).select("id, title").single();if(i||!n)return a.NextResponse.json({success:!1,message:"Failed to delete post or post not in bin"},{status:400});return console.log(`✅ Post "${r.title}" permanently deleted from database`),a.NextResponse.json({success:!0,message:"Post permanently deleted from database",deletedPost:{id:s,title:r.title}})}catch(e){return console.error("❌ Error permanently deleting post:",e),a.NextResponse.json({success:!1,message:"Failed to permanently delete post",error:e instanceof Error?e.message:"Unknown error"},{status:500})}}let l=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/blog/posts/permanent/route",pathname:"/api/blog/posts/permanent",filename:"route",bundlePath:"app/api/blog/posts/permanent/route"},resolvedPagePath:"C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\api\\blog\\posts\\permanent\\route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:c,workUnitAsyncStorage:d,serverHooks:m}=l;function g(){return(0,i.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:d})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63511:(e,t,s)=>{"use strict";s.d(t,{E2:()=>u,ND:()=>a});var r=s(94202);let o="https://iblujnytqusttngujhob.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlibHVqbnl0cXVzdHRuZ3VqaG9iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyNjQxNjMsImV4cCI6MjA2NDg0MDE2M30.zt4RCWmS3POQtULRl27UcdGGCPGbYPJvTr8l6YlOhvA",i=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!o||!n)throw Error("Missing Supabase environment variables. Please check your .env.local file.");let a=(0,r.createClient)(o,n,{auth:{persistSession:!1},db:{schema:"public"},realtime:{params:{eventsPerSecond:-1}},global:{headers:{"X-Client-Info":"tap2go-cms"}}}),u=i?(0,r.createClient)(o,i,{auth:{autoRefreshToken:!1,persistSession:!1},db:{schema:"public"},realtime:{params:{eventsPerSecond:-1}},global:{headers:{"X-Client-Info":"tap2go-cms-admin"}}}):null},72088:()=>{},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},80765:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=80765,e.exports=t},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4447,580,4202],()=>s(49332));module.exports=r})();