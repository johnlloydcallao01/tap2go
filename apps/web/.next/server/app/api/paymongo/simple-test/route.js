(()=>{var e={};e.id=6274,e.ids=[6274],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},38985:(e,t,s)=>{"use strict";s.d(t,{Mk:()=>l,T7:()=>i,TF:()=>c,Ub:()=>p,Zd:()=>u,hx:()=>d,lx:()=>m});var r=s(94612);let a=process.env.PAYMONGO_PUBLIC_KEY_LIVE,o=process.env.PAYMONGO_SECRET_KEY_LIVE,n=(e=!1)=>{let t=e?o:a;if(!t)throw Error(`PayMongo ${e?"secret":"public"} key is not configured. Please check your environment variables.`);let s=Buffer.from(`${t}:`).toString("base64");return r.A.create({baseURL:"https://api.paymongo.com/v1",headers:{Authorization:`Basic ${s}`,"Content-Type":"application/json",Accept:"application/json"},timeout:3e4})},i=n(!1),p=n(!0),c=e=>e.response?.data?.errors?e.response.data.errors.map(e=>e.detail).join(", "):e.message?e.message:"An unexpected error occurred with the payment gateway.",u=e=>Math.round(100*e),l=e=>e/100,d=e=>e>=20&&e<=999999.99,m=()=>["card","gcash","grab_pay","paymaya","billease","dob"]},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},46528:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>h,routeModule:()=>m,serverHooks:()=>P,workAsyncStorage:()=>y,workUnitAsyncStorage:()=>g});var r={};s.r(r),s.d(r,{DELETE:()=>d,GET:()=>c,POST:()=>u,PUT:()=>l});var a=s(96559),o=s(48088),n=s(37719),i=s(32190),p=s(38985);async function c(){try{console.log("\uD83D\uDE80 Running PayMongo simple test...");let e=process.env.PAYMONGO_PUBLIC_KEY_LIVE,t=process.env.PAYMONGO_SECRET_KEY_LIVE;if(!e||!t)return i.NextResponse.json({success:!1,error:"PayMongo API keys not configured",message:"Please check your environment variables",required:["PAYMONGO_PUBLIC_KEY_LIVE","PAYMONGO_SECRET_KEY_LIVE"]},{status:500});console.log("\uD83D\uDCE1 Creating real PayMongo payment intent...");let s={data:{attributes:{amount:2e3,currency:"PHP",description:"Tap2Go Test Order - Sample Item",statement_descriptor:"Tap2Go Test",payment_method_allowed:["card","gcash","grab_pay","paymaya"],metadata:{order_id:`test_order_${Date.now()}`,customer_name:"Test Customer",platform:"tap2go_test"}}}},r=await p.Ub.post("/payment_intents",s);console.log("✅ PayMongo payment intent created successfully!");let a=r.data?.data,o=a?.attributes?.payment_method_allowed||[];return console.log("Actual payment methods from PayMongo:",o),i.NextResponse.json({success:!0,message:"\uD83C\uDF89 Real PayMongo payment intent created successfully!",timestamp:new Date().toISOString(),environment:"LIVE (Production)",apiStatus:"Connected",responseStatus:r.status,credentials:{publicKey:`${e.substring(0,12)}...`,secretKey:`${t.substring(0,12)}...`},realPaymentIntent:{id:a?.id,amount:a?.attributes?.amount,currency:a?.attributes?.currency,status:a?.attributes?.status,client_key:a?.attributes?.client_key,next_action:a?.attributes?.next_action,payment_method_allowed:o,description:a?.attributes?.description},supportedPaymentMethods:o,paymentMethodDetails:{card:{name:"Credit/Debit Cards",description:"Visa, Mastercard, JCB, American Express",icon:"\uD83D\uDCB3",available:!0},gcash:{name:"GCash",description:"Philippines' leading mobile wallet",icon:"\uD83D\uDCF1",available:!0},grab_pay:{name:"GrabPay",description:"Southeast Asia's super app wallet",icon:"\uD83D\uDE97",available:!0},paymaya:{name:"Maya",description:"Digital financial services platform",icon:"\uD83C\uDFE6",available:!0},billease:{name:"BillEase",description:"Buy now, pay later service",icon:"\uD83D\uDCC5",available:!0},dob:{name:"Online Banking",description:"Direct bank transfers",icon:"\uD83C\uDFDB️",available:!0}}})}catch(s){console.error("PayMongo simple test failed:",s);let e="Unknown error",t=500;return s&&"object"==typeof s&&"response"in s?(console.error("PayMongo API Error Response:",{status:s.response?.status,data:s.response?.data,headers:s.response?.headers}),e=s.response?.data?.errors?.[0]?.detail||s.response?.data?.message||JSON.stringify(s.response?.data)||s.message||"Unknown error",t=s.response?.status||500):s instanceof Error&&(e=s.message),i.NextResponse.json({success:!1,error:"PayMongo API test failed",details:e,statusCode:t,timestamp:new Date().toISOString(),troubleshooting:["Check if your PayMongo API keys are correct","Verify your PayMongo account is active","Ensure you have proper permissions","Check your internet connection"]},{status:t})}}async function u(){return i.NextResponse.json({error:"Method not allowed. Use GET for simple PayMongo test."},{status:405})}async function l(){return i.NextResponse.json({error:"Method not allowed. Use GET for simple PayMongo test."},{status:405})}async function d(){return i.NextResponse.json({error:"Method not allowed. Use GET for simple PayMongo test."},{status:405})}let m=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/paymongo/simple-test/route",pathname:"/api/paymongo/simple-test",filename:"route",bundlePath:"app/api/paymongo/simple-test/route"},resolvedPagePath:"C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\api\\paymongo\\simple-test\\route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:y,workUnitAsyncStorage:g,serverHooks:P}=m;function h(){return(0,n.patchFetch)({workAsyncStorage:y,workUnitAsyncStorage:g})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4447,580,5195,4612],()=>s(46528));module.exports=r})();