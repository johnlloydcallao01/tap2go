"use strict";(()=>{var e={};e.id=4417,e.ids=[4417],e.modules={2502:e=>{e.exports=import("prettier/plugins/html")},3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27910:e=>{e.exports=require("stream")},28354:e=>{e.exports=require("util")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{e.exports=require("crypto")},57075:e=>{e.exports=require("node:stream")},58889:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{GET:()=>c,POST:()=>d});var a=r(32190),o=r(84421),i=r(51271),n=r(61120),p=e([o,i]);async function d(e){try{let t,{testEmail:r,testType:s="basic"}=await e.json();if(!r)return a.NextResponse.json({success:!1,error:"Test email address is required"},{status:400});if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))return a.NextResponse.json({success:!1,error:"Invalid email address format"},{status:400});if("basic"===s)t=await (0,o.fV)(r);else{if("order_confirmation"!==s)return a.NextResponse.json({success:!1,error:'Invalid test type. Use "basic" or "order_confirmation"'},{status:400});let e={customerName:"John Doe",orderId:"test_order_123",orderNumber:"TAP2024001",restaurantName:"Mario's Italian Kitchen",items:[{id:"1",name:"Margherita Pizza",quantity:1,price:18.99,specialInstructions:"Extra cheese please"},{id:"2",name:"Caesar Salad",quantity:1,price:12.99}],subtotal:31.98,deliveryFee:3.99,tax:2.88,total:38.85,estimatedDeliveryTime:"30-45 minutes",deliveryAddress:"123 Main St, Anytown, ST 12345",paymentMethod:"Credit Card ending in 4242",trackingUrl:`${process.env.NEXT_PUBLIC_APP_URL}/track/test_order_123`};t=await (0,o.ZM)({to:r,subject:`[TEST] Order Confirmation - #${e.orderNumber}`,template:n.createElement(i.q,e),type:"order_confirmation",metadata:{test:!0,testType:"order_confirmation"}})}return a.NextResponse.json({success:t.success,messageId:t.messageId,error:t.error,metadata:{...t.metadata,testEmail:r,testType:s,timestamp:new Date().toISOString()}})}catch(e){return console.error("Email test error:",e),a.NextResponse.json({success:!1,error:"Test failed",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function c(){return a.NextResponse.json({message:"Email test endpoint",usage:{method:"POST",body:{testEmail:"your-email@example.com",testType:"basic | order_confirmation"}},examples:[{description:"Basic configuration test",body:{testEmail:"test@example.com",testType:"basic"}},{description:"Order confirmation email test",body:{testEmail:"test@example.com",testType:"order_confirmation"}}]})}[o,i]=p.then?(await p)():p,s()}catch(e){s(e)}})},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},75683:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{patchFetch:()=>d,routeModule:()=>c,serverHooks:()=>l,workAsyncStorage:()=>u,workUnitAsyncStorage:()=>m});var a=r(96559),o=r(48088),i=r(37719),n=r(58889),p=e([n]);n=(p.then?(await p)():p)[0];let c=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/email/test/route",pathname:"/api/email/test",filename:"route",bundlePath:"app/api/email/test/route"},resolvedPagePath:"C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\api\\email\\test\\route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:u,workUnitAsyncStorage:m,serverHooks:l}=c;function d(){return(0,i.patchFetch)({workAsyncStorage:u,workUnitAsyncStorage:m})}s()}catch(e){s(e)}})},83505:e=>{e.exports=import("prettier/standalone")},84297:e=>{e.exports=require("async_hooks")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,580,2720,7727],()=>r(75683));module.exports=s})();