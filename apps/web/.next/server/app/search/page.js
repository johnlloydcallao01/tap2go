(()=>{var e={};e.id=2959,e.ids=[2959],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32517:(e,t,s)=>{Promise.resolve().then(s.bind(s,41951))},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},41951:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\ACER\\\\Desktop\\\\tap2go\\\\apps\\\\web\\\\src\\\\app\\\\search\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\search\\page.tsx","default")},53884:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(43210);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))})},55511:e=>{"use strict";e.exports=require("crypto")},62021:(e,t,s)=>{Promise.resolve().then(s.bind(s,73773))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68215:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=s(65239),a=s(48088),i=s(88170),n=s.n(i),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c={children:["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,41951)),"C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\search\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\ACER\\Desktop\\tap2go\\apps\\web\\src\\app\\search\\page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},73496:e=>{"use strict";e.exports=require("http2")},73559:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(43210);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))})},73773:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(60687),a=s(43210),i=s(44272),n=s(23762),l=s(30922),o=s(73559),c=s(50515),d=s(53884),p=s(85814),u=s.n(p);function x(){let[e,t]=(0,a.useState)(""),[s,p]=(0,a.useState)([]),[x,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)("all"),[f,b]=(0,a.useState)([]),v=async e=>{if(!e.trim())return void p([]);m(!0);try{let t=await fetch(`/api/search/restaurants?q=${encodeURIComponent(e)}&limit=20`);if(!t.ok)throw Error("Search failed");let s=await t.json();if(s.success&&s.data.restaurants){let t=s.data.restaurants.map(e=>({id:e.id,type:"restaurant",name:e.name,description:e.description||"",image:e.image||e.coverImage||"/api/placeholder/300/200",rating:e.rating||0,deliveryTime:e.deliveryTime||"N/A",cuisineTypes:Array.isArray(e.cuisine)?e.cuisine:[e.cuisine].filter(Boolean)})),r="all"===h?t:t.filter(e=>e.type===h);if(p(r),e.trim()&&!f.includes(e)){let t=[e,...f.slice(0,4)];b(t),localStorage.setItem("recentSearches",JSON.stringify(t))}}else p([])}catch(e){console.error("Search error:",e),p([])}finally{m(!1)}},y=e=>{t(e),v(e)};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[(0,r.jsx)(i.A,{}),(0,r.jsxs)("div",{className:"container-custom py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-2",children:"Search"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Find your favorite restaurants and dishes"})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(l.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search for restaurants, dishes, cuisines...",value:e,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-lg",autoFocus:!0})]})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4 overflow-x-auto pb-2",children:[(0,r.jsx)(o.A,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),[{id:"all",name:"All"},{id:"restaurant",name:"Restaurants"},{id:"dish",name:"Dishes"}].map(e=>(0,r.jsx)("button",{onClick:()=>g(e.id),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${h===e.id?"bg-orange-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:e.name},e.id))]})}),x&&(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),(0,r.jsx)("span",{className:"ml-2 text-gray-600",children:"Searching..."})]}),!x&&s.length>0&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Search Results (",s.length,")"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,r.jsxs)(u(),{href:"restaurant"===e.type?`/restaurant/${e.id}`:`/restaurant/${e.id}#${e.name}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-gray-500 text-sm",children:"Image"})}),(0,r.jsx)("div",{className:"absolute top-3 left-3",children:(0,r.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"restaurant"===e.type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:"restaurant"===e.type?"Restaurant":"Dish"})}),e.rating&&(0,r.jsxs)("div",{className:"absolute top-3 right-3 bg-white rounded-full px-2 py-1 flex items-center space-x-1",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 text-yellow-400"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:e.rating})]})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),"restaurant"===e.type&&e.deliveryTime&&(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mr-1"}),(0,r.jsx)("span",{children:e.deliveryTime})]}),"dish"===e.type&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-lg font-bold text-orange-500",children:["$",e.price]}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:["from ",e.restaurantName]})]}),e.cuisineTypes&&(0,r.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:e.cuisineTypes.map(e=>(0,r.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:e},e))})]})]},e.id))})]}),!x&&e&&0===s.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-gray-400 mb-4",children:(0,r.jsx)(l.A,{className:"h-16 w-16 mx-auto"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No results found"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Try searching for something else"})]}),!e&&(0,r.jsxs)("div",{className:"space-y-8",children:[f.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Searches"}),(0,r.jsx)("button",{onClick:()=>{b([]),localStorage.removeItem("recentSearches")},className:"text-sm text-orange-500 hover:text-orange-600",children:"Clear All"})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:f.map((e,t)=>(0,r.jsx)("button",{onClick:()=>y(e),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors",children:e},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Searches"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["Pizza","Burger","Sushi","Tacos","Chinese Food","Italian","Thai","Indian"].map((e,t)=>(0,r.jsx)("button",{onClick:()=>y(e),className:"px-3 py-2 bg-white border border-gray-300 text-gray-700 rounded-full text-sm hover:bg-gray-50 transition-colors",children:e},t))})]})]})]}),(0,r.jsx)(n.A,{})]})}},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4447,6907,1658,5814,1739,501,2629],()=>s(68215));module.exports=r})();