exports.id=6770,exports.ids=[6770],exports.modules={58430:(t,e,n)=>{"use strict";n.d(e,{E4:()=>_,FQ:()=>d,HR:()=>l,Rp:()=>c,Rt:()=>i,ft:()=>r,gd:()=>E});var a=n(59506),o=n(63198);let s=process.env.MAPS_BACKEND_KEY;if(!s)throw Error("MAPS_BACKEND_KEY environment variable is required");async function r(t){try{let e=encodeURIComponent(t),n=`https://maps.googleapis.com/maps/api/geocode/json?address=${e}&region=${o.b_.REGION}&key=${s}`,r=await fetch(n),i=await r.json();if("OK"!==i.status)throw(0,a.vg)(i.status);if(!i.results||0===i.results.length)throw(0,a.kv)("NOT_FOUND","Address not found");let E=i.results[0],l={lat:E.geometry.location.lat,lng:E.geometry.location.lng};if(!(0,a.Du)(l))throw(0,a.kv)("INVALID_REQUEST","Address must be in Philippines");return{coordinates:l,formattedAddress:E.formatted_address,placeId:E.place_id,addressComponents:E.address_components.map(t=>({longName:t.long_name,shortName:t.short_name,types:t.types})),types:E.types}}catch(t){if(t instanceof Error&&"code"in t)throw t;throw(0,a.kv)("GEOCODING_FAILED","Failed to geocode address",t)}}async function i(t){try{if(!(0,a.Du)(t))throw(0,a.kv)("INVALID_REQUEST","Coordinates must be in Philippines");let e=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${t.lat},${t.lng}&key=${s}`,n=await fetch(e),o=await n.json();if("OK"!==o.status)throw(0,a.vg)(o.status);if(!o.results||0===o.results.length)throw(0,a.kv)("NOT_FOUND","No address found for coordinates");let r=o.results[0];return{coordinates:t,formattedAddress:r.formatted_address,placeId:r.place_id,addressComponents:r.address_components.map(t=>({longName:t.long_name,shortName:t.short_name,types:t.types})),types:r.types}}catch(t){if(t instanceof Error&&"code"in t)throw t;throw(0,a.kv)("GEOCODING_FAILED","Failed to reverse geocode coordinates",t)}}async function E(t,e){try{let n=`${t.lat},${t.lng}`,r=`${e.lat},${e.lng}`,i=`https://maps.googleapis.com/maps/api/distancematrix/json?origins=${n}&destinations=${r}&mode=${o.rn.TRAVEL_MODE}&units=${o.rn.UNIT_SYSTEM}&key=${s}`,E=await fetch(i),l=await E.json();if("OK"!==l.status)throw(0,a.vg)(l.status);let d=l.rows[0]?.elements[0];if(!d||"OK"!==d.status)throw(0,a.kv)("NOT_FOUND","Route not found");return{distance:d.distance,duration:d.duration,status:d.status}}catch(t){if(t instanceof Error&&"code"in t)throw t;throw(0,a.kv)("DISTANCE_CALCULATION_FAILED","Failed to calculate distance",t)}}async function l(t,e){try{if(e.length>o.rn.MAX_ELEMENTS)throw(0,a.kv)("INVALID_REQUEST",`Too many destinations. Maximum ${o.rn.MAX_ELEMENTS} allowed`);let n=`${t.lat},${t.lng}`,r=e.map(t=>`${t.lat},${t.lng}`).join("|"),i=`https://maps.googleapis.com/maps/api/distancematrix/json?origins=${n}&destinations=${r}&mode=${o.rn.TRAVEL_MODE}&units=${o.rn.UNIT_SYSTEM}&key=${s}`,E=await fetch(i),l=await E.json();if("OK"!==l.status)throw(0,a.vg)(l.status);return(l.rows[0]?.elements||[]).map(t=>({distance:t.distance||{text:"N/A",value:0},duration:t.duration||{text:"N/A",value:0},status:t.status}))}catch(t){if(t instanceof Error&&"code"in t)throw t;throw(0,a.kv)("DISTANCE_CALCULATION_FAILED","Failed to calculate distance matrix",t)}}async function d(t,e,n){try{let r=`${t.lat},${t.lng}`,i=`${e.lat},${e.lng}`,E=`https://maps.googleapis.com/maps/api/directions/json?origin=${r}&destination=${i}&mode=${o.rn.TRAVEL_MODE}&key=${s}`;if(n&&n.length>0){if(n.length>o.rn.MAX_WAYPOINTS)throw(0,a.kv)("INVALID_REQUEST",`Too many waypoints. Maximum ${o.rn.MAX_WAYPOINTS} allowed`);let t=n.map(t=>`${t.lat},${t.lng}`).join("|");E+=`&waypoints=${t}`}let l=await fetch(E),d=await l.json();if("OK"!==d.status)throw(0,a.vg)(d.status);if(!d.routes||0===d.routes.length)throw(0,a.kv)("NOT_FOUND","No route found");let c=d.routes[0],_=c.legs[0];return{distance:_.distance,duration:_.duration,polyline:c.overview_polyline.points,steps:_.steps.map(t=>({distance:t.distance,duration:t.duration,startLocation:{lat:t.start_location.lat,lng:t.start_location.lng},endLocation:{lat:t.end_location.lat,lng:t.end_location.lng},instructions:t.instructions?.replace(/<[^>]*>/g,"")||"",polyline:t.polyline?.points||""})),bounds:{northeast:{lat:c.bounds.northeast.lat,lng:c.bounds.northeast.lng},southwest:{lat:c.bounds.southwest.lat,lng:c.bounds.southwest.lng}}}}catch(t){if(t instanceof Error&&"code"in t)throw t;throw(0,a.kv)("DISTANCE_CALCULATION_FAILED","Failed to get directions",t)}}async function c(t,e,n){try{let o=await E(t,e),s=o.distance.value/1e3;return{...(0,a.b4)(t,e,n),distance:s,estimatedTime:Math.round(o.duration.value/60)}}catch(o){return console.warn("Google Maps distance calculation failed, using fallback:",o),(0,a.b4)(t,e,n)}}async function _(t){try{let e=await r(t);if(!(0,a.Du)(e.coordinates))return{isServiceable:!1,reason:"Address is outside our service area (Philippines only)"};return{isServiceable:!0,coordinates:e.coordinates,formattedAddress:e.formattedAddress}}catch(t){return{isServiceable:!1,reason:t instanceof Error?t.message:"Unable to validate address"}}}},59506:(t,e,n)=>{"use strict";n.d(e,{$m:()=>d,Du:()=>o,Jo:()=>i,Qu:()=>c,VA:()=>_,aO:()=>E,b4:()=>l,kv:()=>u,vg:()=>A});var a=n(63198);function o(t){let{lat:e,lng:n}=t,o=a.gY.COORDINATE_BOUNDS;return e>=o.LAT_MIN&&e<=o.LAT_MAX&&n>=o.LNG_MIN&&n<=o.LNG_MAX}function s(t,e){let n=r(e.lat-t.lat),a=r(e.lng-t.lng),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(r(t.lat))*Math.cos(r(e.lat))*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371}function r(t){return Math.PI/180*t}function i(t){let{BASE_FEE:e,PER_KM_FEE:n,MIN_FEE:o,MAX_FEE:s}=a.gt,r=e+t*n;return Math.round(r=Math.min(r=Math.max(r,o),s))}function E(t,e,n=a.gt.DEFAULT_RADIUS){return s(t,e)<=n}function l(t,e,n){let o=s(t,e),r=function(t){let{DELIVERY_TIME_PER_KM:e,BASE_DELIVERY_TIME:n}=a.gt;return n+t*e}(o),E=a.gt.BASE_FEE,l=o*a.gt.PER_KM_FEE,d=i(o);return{distance:o,estimatedTime:r,baseFee:E,distanceFee:l,totalFee:d,isWithinZone:o<=(n||a.gt.DEFAULT_RADIUS)}}function d(t){let{MIN_ADDRESS_LENGTH:e,MAX_ADDRESS_LENGTH:n}=a.gY;return t.length>=e&&t.length<=n&&/[a-zA-Z]/.test(t)}function c(t){return t.trim().replace(/[<>]/g,"").replace(/\s+/g," ")}function _(t){return!function(){let t=new Date,e=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`;return a.gt.PEAK_HOURS.some(t=>e>=t.start&&e<=t.end)}()?t:Math.round(t*a.gt.PEAK_HOURS_MULTIPLIER)}function u(t,e,n){return{code:t,message:e||a.UU[t]||"Unknown error",details:n}}function A(t){switch(t){case"ZERO_RESULTS":return u("NOT_FOUND",a.UU.LOCATION_NOT_FOUND);case"OVER_QUERY_LIMIT":return u("OVER_QUERY_LIMIT",a.UU.API_QUOTA_EXCEEDED);case"REQUEST_DENIED":return u("REQUEST_DENIED",a.UU.PERMISSION_DENIED);case"INVALID_REQUEST":return u("INVALID_REQUEST",a.UU.INVALID_COORDINATES);default:return u("UNKNOWN_ERROR",a.UU.NETWORK_ERROR)}}},63198:(t,e,n)=>{"use strict";n.d(e,{UU:()=>r,b_:()=>o,gY:()=>i,gt:()=>a,rn:()=>s});let a={DEFAULT_RADIUS:10,MAX_RADIUS:25,MIN_RADIUS:1,BASE_FEE:49,PER_KM_FEE:8,MIN_FEE:29,MAX_FEE:199,PREPARATION_TIME:30,DELIVERY_TIME_PER_KM:3,BASE_DELIVERY_TIME:15,PEAK_HOURS_MULTIPLIER:1.5,PEAK_HOURS:[{start:"11:00",end:"14:00"},{start:"18:00",end:"21:00"}]},o={REGION:"PH",COMPONENT_RESTRICTIONS:{country:["PH"]},ADDRESS_TYPES:["geocode"],ESTABLISHMENT_TYPES:["establishment"],GENERAL_LOCATION_TYPES:["geocode"],RESTAURANT_TYPES:["restaurant","food","meal_takeaway","meal_delivery"]},s={TRAVEL_MODE:"DRIVING",UNIT_SYSTEM:"METRIC",AVOID:[],TRAFFIC_MODEL:"BEST_GUESS",MAX_ELEMENTS:25,MAX_WAYPOINTS:8},r={GEOCODING_FAILED:"Unable to find the specified address",DISTANCE_CALCULATION_FAILED:"Unable to calculate distance",LOCATION_NOT_FOUND:"Location not found",OUTSIDE_DELIVERY_ZONE:"Address is outside our delivery zone",INVALID_COORDINATES:"Invalid coordinates provided",NETWORK_ERROR:"Network error occurred",API_QUOTA_EXCEEDED:"Service temporarily unavailable",PERMISSION_DENIED:"Location permission denied",POSITION_UNAVAILABLE:"Location unavailable"},i={COORDINATE_BOUNDS:{LAT_MIN:4.5,LAT_MAX:21,LNG_MIN:116,LNG_MAX:127},MIN_ADDRESS_LENGTH:10,MAX_ADDRESS_LENGTH:200,MIN_DELIVERY_DISTANCE:.1,MAX_DELIVERY_DISTANCE:50,MIN_SEARCH_LENGTH:3,MAX_SEARCH_LENGTH:100}},78335:()=>{},96487:()=>{}};